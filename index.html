<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Teacher's Game Hub</title>
    
    <link rel="stylesheet" href="assets/style.css"> 
    <script defer src="assets/script.js"></script>

    <style>
        /* Temel Stil Ayarlarƒ± */
        :root {
            --bg-color: #f5f5f5; --primary-color: #16213e; --accent-color: #e94560; 
            --accent-hover-color: #533483; --text-color: #333; 
            --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            font-family: var(--font-family); background-color: var(--bg-color);
            color: var(--text-color); line-height: 1.6; margin: 0; min-height: 100vh;
            display: flex; flex-direction: column;
        }
        header {
            background-color: var(--primary-color); color: white; padding: 20px 40px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); display: flex;
            justify-content: space-between; align-items: center;
        }
        header h1 { margin: 0; color: var(--accent-color); }
        nav a {
            color: white; text-decoration: none; padding: 10px 15px; margin-left: 10px;
            transition: background-color 0.3s; border-radius: 5px;
        }
        nav a.active, nav a:hover { background-color: var(--accent-hover-color); }
        
        .hero { background-color: #e0f7fa; color: #16213e; padding: 80px 40px;
            text-align: center; margin-bottom: 20px;
        }
        .hero h2 { font-size: 2.5rem; margin-bottom: 15px; }
        
        .grade-section-title {
            text-align: left; color: var(--primary-color); margin: 40px 0 20px 0;
            padding: 10px 20px; border-bottom: 3px solid var(--accent-color);
            max-width: 1200px; margin-left: auto; margin-right: auto; font-size: 1.8rem;
        }

        .games-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px; padding: 20px; max-width: 1200px; margin: 0 auto;
        }

        .game-card {
            background: #ffffff; border-radius: 15px; padding: 25px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); text-align: center;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid #eee; display: flex; flex-direction: column;
            justify-content: space-between;
        }

        .game-card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.15); }

        .card-activity {
            border: 3px solid #3498db; box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);
        }
        .card-game {
            border: 3px solid var(--accent-color); box-shadow: 0 4px 10px rgba(233, 69, 96, 0.3);
            background-color: #fff8f8; 
        }

        .game-card h3 { color: var(--primary-color); margin-bottom: 10px; font-size: 1.4rem; }
        .game-card p { color: #666; font-size: 0.9rem; margin-bottom: 20px; }
        .play-btn {
            display: inline-block; background-color: var(--accent-color);
            color: white; padding: 10px 20px; border-radius: 25px;
            text-decoration: none; font-weight: bold; margin-top: auto; 
            transition: background 0.3s;
        }
        .play-btn:hover { background-color: var(--accent-hover-color); }
        .level-badge {
            color: white; padding: 4px 8px; border-radius: 4px;
            font-size: 0.8rem; margin-bottom: 10px; display: inline-block;
            font-weight: bold;
        }

        footer {
            background-color: var(--primary-color); color: white;
            text-align: center; padding: 15px; margin-top: auto; 
        }
    </style>
</head>
<body>
    <header>
        <h1>üéì English Teacher's Game Hub</h1>
        <nav id="navbar">
            <a href="index.html" class="active">Home</a>
            <a href="#all-content-container">Content</a>
            <a href="Interactive_Activities/index.html">Interactive Activities</a> 
            <a href="about.html">About</a>
            <a href="contact.html">Contact</a>
        </nav>
    </header>

    <main>
        <section class="hero">
            <h2>Welcome to Your Learning Playground!</h2>
            <p>Fun and interactive English games and activities, organized by grade level! üß†</p>
            <a href="#all-content-container" class="btn">üéÆ View Content by Grade</a>
        </section>

        <section id="all-content-container">
            <h2 style="text-align: center; color: var(--primary-color); padding-top: 20px;">üî• Content by Grade Level</h2>
            
            <p style="text-align:center; color:#999; padding:20px;">ƒ∞√ßerikler y√ºkleniyor... L√ºtfen bekleyin.</p>
        </section>

        <section class="info" style="max-width: 1200px; margin: 40px auto; padding: 0 20px;">
            <h3 style="color: var(--accent-color);">üéØ Purpose</h3>
            <p>This site is designed for English language learners to enjoy vocabulary, grammar, and speaking practice through interactive games and quizzes.</p>
        </section>
    </main>

    <footer>
        <p>¬© 2025 English Teacher‚Äôs Game Hub | Designed with ‚ù§Ô∏è for students</p>
    </footer>

    <script>
        // --- AYARLAR ---
        const username = "hunter5234"; // GitHub kullanƒ±cƒ± adƒ±nƒ±z
        const repo = "english-game-hub"; // GitHub deponuzun adƒ±
        
        // ƒ∞√áERƒ∞K Tƒ∞PLERƒ∞ VE SINIF SEVƒ∞YELERƒ∞
        const SOURCE_FOLDERS = ["Games", "Interactive_Activities"]; 
        
        // D√úZELTƒ∞LMƒ∞≈û: Sƒ±nƒ±f adlarƒ± Sizin son teyidinize g√∂re (T√úM√ú B√úY√úK HARF)
        const GRADE_LEVELS = ["9TH_GRADE", "10TH_GRADE", "11TH_GRADE", "12TH_GRADE"]; 
        
        const allContentContainer = document.getElementById('all-content-container');

        // --- √ñZEL OYUN Bƒ∞LGƒ∞LERƒ∞ (Kart Ba≈ülƒ±klarƒ±nƒ± D√ºzenlemek ƒ∞√ßin) ---
        // L√ºtfen bu dosya adlarƒ±nƒ±n GitHub'daki ger√ßek adlarla Bƒ∞REBƒ∞R E≈ûLE≈ûTƒ∞ƒûƒ∞NDEN emin olun.
        const customGameDetails = {
            // Interactive Activities i√ßin tam dosya adlarƒ± (√ñRN: 9.1.R. Land of Fire PAGE 30.html)
            "Land_of_Fire.html": { title: "Land of Fire Reading", level: "9. Sƒ±nƒ±f Aktivitesi", desc: "Azerbaycan ile ilgili okuma ve anlama pratiƒüi.", badgeColor: "#f39c12" },
            "Digital_World.html": { title: "Safer Digital World Quiz", level: "9. Sƒ±nƒ±f Aktivitesi", desc: "Siber g√ºvenlik kelime ve okuma pratiƒüi.", badgeColor: "#e94560" },
            
            // Eƒüer dosya adlarƒ±nƒ±z uzunsa, tam adlarƒ±nƒ± kullanƒ±n:
            "9.1.R. Land of Fire PAGE 30.html": { title: "Land of Fire Reading (Page 30)", level: "9. Sƒ±nƒ±f Aktivitesi", desc: "Azerbaycan okuma anlama pratiƒüi.", badgeColor: "#f39c12" },
            "9.1.R. Getting Ready for a Safer Digital World Page 34.html": { title: "Safer Digital World (Page 34)", level: "9. Sƒ±nƒ±f Aktivitesi", desc: "Siber g√ºvenlik kelime ve okuma pratiƒüi.", badgeColor: "#e94560" },
            
            // Games i√ßin KLAS√ñR ADLARI (uzantƒ±sƒ±z):
            "Milyoner9_1": { title: "9. Sƒ±nƒ±f Milyoner Oyunu", level: "Sƒ±nav", desc: "Genel ƒ∞ngilizce bilgi yarƒ±≈ümasƒ±.", badgeColor: "#27ae60" },
            "Simple_Vocabulary_Quiz": { title: "Simple Vocab Quiz", level: "Hƒ±zlƒ± Test", desc: "Temel kelime testi.", badgeColor: "#3498db" }
        };

        /**
         * Belirtilen GitHub klas√∂r√ºnden i√ßerikleri √ßeker ve kaynak/seviye bilgisini ekler.
         */
        async function fetchFolderContent(sourceFolder, gradeFolder) {
            const fullPath = `${sourceFolder}/${gradeFolder}`;
            const apiUrl = `https://api.github.com/repos/${username}/${repo}/contents/${fullPath}`;
            
            const response = await fetch(apiUrl);

            // 404 (bulunamadƒ±) veya bo≈ü klas√∂r ise bo≈ü dizi d√∂nd√ºr
            if (!response.ok || response.status === 404) return []; 
            // API limitine takƒ±lma kontrol√º
            if (response.status === 403) throw new Error('GitHub API Limitine ula≈üƒ±ldƒ±.');
            
            const data = await response.json();
            
            return data.map(item => ({
                ...item,
                sourceFolder: sourceFolder,
                gradeFolder: gradeFolder
            }));
        }

        async function fetchAllContent() {
            try {
                // 1. ADIM: T√úM KLAS√ñRLERDEN VERƒ∞LERƒ∞ √áEK
                const fetchPromises = [];
                SOURCE_FOLDERS.forEach(source => {
                    GRADE_LEVELS.forEach(grade => {
                        fetchPromises.push(fetchFolderContent(source, grade));
                    });
                });

                const results = await Promise.all(fetchPromises);
                let allData = results.flat(); 
                
                allContentContainer.innerHTML = ''; 
                
                if (allData.length === 0) {
                    allContentContainer.innerHTML += '<p style="text-align:center; color:red; padding:20px;">HATA: Hen√ºz listelenecek i√ßerik bulunamadƒ±. L√ºtfen klas√∂r adlarƒ±nƒ±n (Games, 9TH_GRADE vb.) B√úY√úK/K√ú√á√úK harf dahil tam e≈üle≈ütiƒüinden emin olun. Konsol sekmesinde 404 hatalarƒ±nƒ± kontrol edin.</p>';
                    return;
                }
                
                // 2. ADIM: GRUPLA VE SIRALA
                allData.sort((a, b) => b.name.localeCompare(a.name)); 
                
                const groupedData = allData.reduce((acc, item) => {
                    acc[item.gradeFolder] = acc[item.gradeFolder] || [];
                    acc[item.gradeFolder].push(item);
                    return acc;
                }, {});

                // 3. ADIM: SAYFAYA ƒ∞√áERƒ∞KLERƒ∞ YAZDIR
                GRADE_LEVELS.forEach(grade => {
                    const gradeItems = groupedData[grade];
                    if (!gradeItems || gradeItems.length === 0) return;

                    // Sƒ±nƒ±f Ba≈ülƒ±ƒüƒ±nƒ± Olu≈ütur
                    const gradeTitle = document.createElement('h2');
                    gradeTitle.className = 'grade-section-title';
                    gradeTitle.textContent = grade.replace('_', ' ').toUpperCase(); 
                    allContentContainer.appendChild(gradeTitle);

                    // Grid Konteynerini Olu≈ütur
                    const gamesGrid = document.createElement('div');
                    gamesGrid.className = 'games-grid';

                    gradeItems.forEach(item => {
                        let fileName = item.name;
                        let gameUrl = "";
                        let sourceFolder = item.sourceFolder;
                        
                        // URL belirleme ve Filtreleme
                        if (sourceFolder === "Games" && item.type === 'dir') {
                            gameUrl = `https://${username}.github.io/${repo}/${sourceFolder}/${item.gradeFolder}/${fileName}/index.html`;
                        } 
                        else if (sourceFolder === "Interactive_Activities" && item.type === 'file' && fileName.endsWith('.html')) {
                            gameUrl = `https://${username}.github.io/${repo}/${sourceFolder}/${item.gradeFolder}/${fileName}`;
                        } else {
                            // Liste dƒ±≈üƒ± kalan dosyalarƒ±/klas√∂rleri atla
                            return; 
                        }

                        // Varsayƒ±lan Deƒüerler
                        let title = fileName.replace('.html', '').replace(/[-_]/g, ' ').trim();
                        let desc = "";
                        let level = "";
                        let badgeStyle = "background: #3498db;"; 
                        let cardClass = ""; 

                        if (sourceFolder === "Games") {
                            level = "Game";
                            desc = "An interactive game from the sub-directory.";
                            cardClass = "card-game";
                        } else if (sourceFolder === "Interactive_Activities") {
                            level = "Interactive Activity"; 
                            desc = "A reading or vocabulary practice session.";
                            cardClass = "card-activity"; 
                        }

                        title = title.toUpperCase();
                        
                        // √ñzel Bilgi Kontrol√º (Override)
                        const lookupKey = sourceFolder === "Games" ? fileName : fileName;
                        
                        if (customGameDetails[lookupKey]) {
                            const details = customGameDetails[lookupKey];
                            title = details.title;
                            desc = details.desc;
                            level = details.level;
                            if (details.badgeColor) {
                                badgeStyle = `background: ${details.badgeColor};`;
                            }
                        }

                        // HTML Kartƒ±nƒ± Olu≈ütur
                        const cardHTML = `
                        <div class="game-card ${cardClass}">
                            <span class="level-badge" style="${badgeStyle}">${level}</span>
                            <h3>${title}</h3>
                            <p>${desc}</p>
                            <a href="${gameUrl}" class="play-btn">Play Now ‚û°Ô∏è</a>
                        </div>
                        `;
                        
                        gamesGrid.innerHTML += cardHTML;
                    });

                    allContentContainer.appendChild(gamesGrid);
                });

            } catch (error) {
                console.error('ƒ∞√ßerikler y√ºklenirken hata olu≈ütu:', error);
                allContentContainer.innerHTML = `<p style="text-align:center; color:red; padding:20px;">ƒ∞√ßerikler y√ºklenemedi: ${error.message || 'Bilinmeyen Hata'}. L√ºtfen tarayƒ±cƒ± Konsol sekmesini kontrol edin.</p>`;
            }
        }

        document.addEventListener('DOMContentLoaded', fetchAllContent);
    </script>
</body>
</html>
